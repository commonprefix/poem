\newif\iftoday
\newif\ifanonymous
\newif\iftwocolumn
\newif\ifonecolumn
\newif\iflncs
\newif\ifccs
\newif\ifoakland
\newif\ifusenix

% \todaytrue
\anonymoustrue
% \ccstrue
% \lncstrue
\usenixtrue
\twocolumntrue

\iflncs
  \onecolumntrue
\fi
\ifccs
  \twocolumntrue
\fi
\ifoakland
  \twocolumntrue
\fi

\iflncs
  \documentclass[runningheads]{llncs}
\fi
\ifccs
  \ifanonymous
    \documentclass[sigconf, anonymous]{acmart}
  \else
    \documentclass[sigconf]{acmart}
  \fi
  \input{ccs-preamble}
\fi
\ifoakland
  \documentclass[conference,compsoc]{IEEEtran}
  \input{oakland-preamble}
\fi



\ifusenix
  \documentclass[letterpaper,twocolumn,10pt]{article}
  \usepackage{preamble}
  \usepackage{hyperref}
  \usepackage{usenix}
  \usepackage{import}
  \usepackage{filecontents}
\else
  \usepackage{graphicx}
  \usepackage{algorithm}
  \usepackage{algpseudocode}
  \usepackage{hyperref}
  \usepackage{preamble}
\fi


\begin{document}

\ifusenix
  %don't want date printed
  \date{}
\fi

\import{./}{frontpage.tex}
\import{./}{body.tex}

\iflncs
  \bibliographystyle{abbrv}
\fi
\ifoakland
  \bibliographystyle{IEEEtran}
\fi
\ifccs
  \bibliographystyle{ACM-Reference-Format}
\fi
\ifusenix
  \bibliographystyle{plain}
\fi
\bibliography{pubs}
\pdfbookmark[section]{References}{references}

\appendix

\import{./}{app-analysis.tex}
\import{./}{more-experiments.tex}
\import{./}{discussion.tex}
\import{./}{math.tex}
\ifanonymous
\else
  \import{./}{acknowledgements.tex}
\fi

\end{document}

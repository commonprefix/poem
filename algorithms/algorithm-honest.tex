\begin{algorithm}[H]
    \caption{\label{alg.backbone} The honest party. We make an implicit echoing assumption.}
    \begin{algorithmic}[1]
     \Statex
     \State{$\mathcal{G}$}
     \Let{ C}{[\,]}
        \Function{$\textsf{Constructor}$}{$\mathcal{G}'$}
            \State $\mathcal{G} \leftarrow \mathcal{G}'$ \Comment{Select Genesis Block}
            \State $ C \leftarrow [\mathcal{G}]$ \Comment{Add Genesis Block to start of chain}
            \State \textsf{round} $\leftarrow 1$
        \EndFunction
        \Function{$\textsf{Execute}_{\net}$}{$1^\kappa$}
            \State $\bar M \leftarrow \net.\receive()$ \Comment{Receive Chains from the network}
            \State $\tilde C \leftarrow$ maxvalid$(C, \bar M)$ \label{alg-backbone.maxvalid} \Comment{Adopt Chain with most intrinsic work in the network}
            %TODO: Fix typesetting
            \If{$\tilde C \neq  C$}
                \Let{ C}{\tilde C}
            \EndIf
            \Let{x}{\textsc{Input}()} \Comment{Take all transactions in mempool}
            \Let{B}{\textsf{PoW}(x, \tilde C)}
            \If{$B \neq \bot$} \Comment{Successful Mining}
                \Let{ C}{ C \concat B} \Comment{Add block to current longest chain}
            \EndIf
            \State {\textsf{round}} $\leftarrow$ {\textsf{round}+1}
        \EndFunction
        \Function{$\textsf{Read}$}{}
            \Let{x}{[\,]} \Comment{Instantiate transactions}
            \For{$B \in  C$} \label{alg-backbone:k} \atnote{TBD: Cut $k$ blocks or bits of entropy?}
                \Let{x}{x \concat  C.x} \Comment{Extract all transactions from each block in the chain}
            \EndFor
            \State\Return{$x$}
        \EndFunction
        \vskip8pt
    \end{algorithmic}
\end{algorithm}

